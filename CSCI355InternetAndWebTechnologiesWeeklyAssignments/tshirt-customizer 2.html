<html lang="en"><head>
                <meta charset="utf-8">
                <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
                <title>T-shirt Customizer</title>
                <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
                <link rel="stylesheet" type="text/css" href="styles.css">
        </head>
        <body>
    <style>
body {
        background-color: #F1F7ED;
}
img {
        width: 100%;
}
ul, li {
        margin: 0;
        padding: 0;
        list-style: none;
}
datalist {
        display: flex;
        justify-content: space-between;
        font-size: 13px;
}
.header {
        background-color: #B1EDE8;
        text-align: center;
        padding-top: 5px;
        padding-bottom: 5px;
}
.section {
        background-color: white;
}
.tshirt {
        padding-right: 30px;
        position: relative;
}
.tshirt #tshirt-preview {
        position: absolute;
        top: 25%;
        left: 30%;
        width: 37%;
        font-size: 24px;
}
.tshirt-colors  {
        display: flex;
}
.tshirt-colors .tshirt-color {
        width: 40px;
        height: 25px;
        border-radius: 10px;
        margin-right: 10px;
}
.tshirt-colors .tshirt-color:nth-child(1) {
        background-color: black;
}
.tshirt-colors .tshirt-color:nth-child(2) {
        background-color: blue;
}
.tshirt-colors .tshirt-color:nth-child(3) {
        background-color: green;
}
.tshirt-colors .tshirt-color:nth-child(4) {
        background-color: red;
}
.tshirt-colors .tshirt-color.selected {
        border: 3px solid #aaa;
}
.error-message {
        color: red;
        margin-top: 5px;
}
.cart {
        background-color: #D4F2D2;
        border: 1px solid black;
        width: 100%;
        padding: 10px;
}
.cart .cart-pricing {
        display: flex;
        justify-content: space-between;
}
.hide {
        display: none;
}
</style>
                <div class="header">
                        <h1>T-shirt Maker</h1>
                </div>
                <div class="container-fluid">
                        <div class="row">
                                <div class="col-12 col-md-5 section py-3 tshirt">
                                        <img src="https://venus.cs.qc.cuny.edu/~vupadhyay/355/tshirt.png" alt="tshirt impage">
                                        <!-- This is the element that appears on top of the t-shirt -->
                                        <div id="tshirt-preview"></div>
                                </div>
                                <div class="col-12 col-md-4 section py-3 customize">
                                        <h2>Customize T-shirt</h2>
                                        <form id="tshirt-form">
                                                <div class="form-group">
                                                        <label for="tshirt-text">Text to put on T-shirt:</label>
                                                        <input type="text" class="form-control" id="tshirt-text" placeholder="Enter text" autocomplete="off">
                                                        <small id="tshirt-text-help" class="form-text">max 20 characters</small>
                                                </div>
                                                <div class="form-group">
                                                        <label for="tshirt-font">Choose font:</label>
                                                        <select id="tshirt-font" class="form-control">
                                                                <option value="Arial">Arial</option>
                                                                <option value="Times New Roman">Times New Roman</option>
                                                                <option value="Verdana">Verdana</option>
                                                                <option value="Monospace">Monospace</option>
                                                        </select>
                                                </div>
                                                <div class="form-group">
                                                        <label for="tshirt-font-size">Choose font size:</label>
                                                        <input type="range" list="tickmarks" class="form-control-range" id="tshirt-font-size" min="12" max="36" step="3">
                                                        <datalist id="tickmarks">
                                                                <option value="12" label="12px"></option>
                                                                <option value="15"></option>
                                                                <option value="18" label="18px"></option>
                                                                <option value="21"></option>
                                                                <option value="24" label="24px"></option>
                                                                <option value="27"></option>
                                                                <option value="30" label="30px"></option>
                                                                <option value="33"></option>
                                                                <option value="36" label="36px"></option>
                                                        </datalist>
                                                </div>
                                                <div class="form-group">
                                                        <label>Choose text color:</label>
                                                        <ul class="tshirt-colors">
                                                                <li class="tshirt-color selected" data-color="black" style="cursor: pointer;"></li>
                                                                <li class="tshirt-color" data-color="blue" style="cursor: pointer;"></li>
                                                                <li class="tshirt-color" data-color="green" style="cursor: pointer;"></li>
                                                                <li class="tshirt-color" data-color="red" style="cursor: pointer;"></li>
                                                        </ul>
                                                </div>
                                                <div class="form-group">
                                                        <button type="submit" class="btn btn-primary">Add to Cart</button>
                                                        <button type="button" class="btn btn-danger" id="btn-remove">Remove from Cart</button>
                                                        <div class="error-message"></div>
                                                </div>
                                        </form>
                                </div>
                                <div class="col-12 col-md-3 d-flex section">
                                        <div class="cart">
                                                <h4>Shopping Cart</h4>
                                                <div id="cart-message">
                                                        Cart is empty
                                                </div>
                                                <div class="cart-item hide">
                                                        <h5>Custom Shirt</h5>
                                                        <span id="qty">0</span> x $20.00
                                                </div>


                                                <hr>


                                                <div class="cart-pricing">
                                                        <span>Subtotal:</span>
                                                        <span id="subtotal">$0.00</span>
                                                </div>
                                                <div class="cart-pricing">
                                                        <span>Tax:</span>
                                                        <span id="tax">$0.00</span>
                                                </div>
                                                <div class="cart-pricing">
                                                        <strong>Total:</strong>
                                                        <span id="total">$0.00</span>
                                                </div>
                                        </div>
                                </div>
                        </div>
                </div>


                <script type="text/javascript">
        //variables 
                        let TshirtText = document.getElementById("tshirt-text");
                        let TshirtPreview = document.getElementById("tshirt-preview");
                        let TshirtTextHelp = document.getElementById("tshirt-text-help");
                        let ErrorMessage = document.getElementsByClassName("error-message")[0];
            let FontStyle = document.getElementById("tshirt-font");
            let FontSize = document.getElementById("tshirt-font-size");
            let TextColor = document.getElementsByClassName("tshirt-color");
            let cartMessage = document.getElementById("cart-message");
                        let cartItem = document.getElementsByClassName("cart-item")[0];
                        let Quantity = document.getElementById("qty");
                        let Subtotal = document.getElementById("subtotal");
                        let Tax = document.getElementById("tax");
                        let Total = document.getElementById("total");
            let submit = document.getElementsByClassName("btn")[0];
            let remove = document.getElementById("btn-remove");


                        //let counter = 0;
            
            
// activating event listener for the custom text field that is to put on the t shirt
                        TshirtText.addEventListener('input', () => {
                                let text = TshirtText.value;
                                if (text.length > 20) {
                                        TshirtTextHelp.style.color = "red";
                                        TshirtText.classList.add("is-invalid");
                                } else {
                                        TshirtTextHelp.style.color = "black";
                                        TshirtText.classList.remove("is-invalid");
                                }
                                TshirtPreview.innerHTML = text;
                                ErrorMessage.innerHTML = null;
                 TshirtText.reset()
                        })
           
//activating event listener for the custom text font style to put on the t shirt
                
                        FontStyle.addEventListener('change', () => {
                                TshirtPreview.style.fontFamily = FontStyle.value;
                        })


                        
 //activating event listener for the custom font size
                        FontSize.addEventListener('change', () => {
                                TshirtPreview.style.fontSize = FontSize.value + "px";
                        })


// activating event listener for the custom font color selectors
                        let selectedBox = 0;
                        for (let i = 0; i < TextColor.length; i++) {
                        TextColor[i].addEventListener('click', () => {
                      TextColor[selectedBox].classList.remove("selected");
                                        selectedBox = i;
                                        TextColor[selectedBox].classList.add("selected");
TshirtPreview.style.color = TextColor[i].getAttribute("data-color");
                                })
                        }
            
// activating event listener to activate add to cart button
                
                        let counter=0;
                        submit.addEventListener('click', (e) => {
                                e.preventDefault();
                                if (!validation())
                                        return;
                 if (counter == 0) {
                                        cartMessage.classList.add("hide");
                                        cartItem.classList.remove("hide");
                                }


                                Quantity.innerHTML = ++counter;
                                let s = CalculateSubtotal(counter);
                                let t = CalculateTax(s);
                                subtotal.innerHTML = "$" + s.toFixed(2);
                                tax.innerHTML = "$" + t.toFixed(2);
                                total.innerHTML = "$" + CalculateTotal(s, t).toFixed(2);
                        })


//activating remove from cart button
                        
                        remove.addEventListener('click', (e) => {
                                e.preventDefault();
                                cartMessage.classList.remove("hide");
                                cartItem.classList.add("hide");
                                counter = 0;
                                Subtotal.innerHTML = "$0.00";
                                tax.innerHTML = "$0.00";
                                total.innerHTML = "$0.00";
                        })




//functions
       function validation() {
                                let text = TshirtText.value;
              if (text.length > 20 || text.length == 0) {
ErrorMessage.innerHTML = "Text length cannot be zero or longer than 20 characters long ";
                                return false;
                                } else {
                                        ErrorMessage.innerHTML = null;
                                        return true;
                                }
                        }
                        function CalculateSubtotal(Quantity) {
                                return Quantity * 20;
                        }


                        function CalculateTax(Subtotal) {
                                return Subtotal * 0.04;
                        }


                        function CalculateTotal(Subtotal, Tax) {
                                return Subtotal + Tax;
                        }


                        
                </script>


        


</body></html>